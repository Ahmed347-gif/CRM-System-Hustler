<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM - Customer & Sales Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>CRM System</h1>
            <p>Customer & Sales Management</p>
        </header>

        <!-- Statistics Dashboard -->
        <section class="stats-dashboard">
            <h2>Statistics Dashboard</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Customers</h3>
                    <p id="totalCustomers">0</p>
                </div>
                <div class="stat-card">
                    <h3>Products Sold</h3>
                    <p id="totalProductsSold">0</p>
                </div>
                <div class="stat-card">
                    <h3>Available Funds</h3>
                    <p id="availableFunds">$0.00</p>
                </div>
                <div class="stat-card">
                    <h3>Total Capital</h3>
                    <p id="totalCapital">$0.00</p>
                </div>
            </div>
        </section>

        <!-- Product Management Section -->
        <section class="product-section">
            <h2>Product Management</h2>
            <div class="product-form">
                <div class="form-group">
                    <label for="totalProducts">Total Products Available:</label>
                    <input type="number" id="totalProducts" min="0" placeholder="Enter total products">
                </div>
                <div class="form-group">
                    <label for="productsSold">Products Sold:</label>
                    <input type="number" id="productsSold" min="0" placeholder="Enter products sold">
                </div>
                <div class="form-group">
                    <label for="capitalAmount">Capital Amount ($):</label>
                    <input type="number" id="capitalAmount" min="0" step="0.01" placeholder="Enter capital amount">
                </div>
                <div class="form-group">
                    <label for="productPrice">Product Price ($):</label>
                    <input type="number" id="productPrice" min="0" step="0.01" placeholder="Enter product price">
                </div>
                <button type="button" id="updateProductsBtn" class="btn btn-primary">Update Products & Capital</button>
            </div>
            <div class="product-summary">
                <h3>Product Summary</h3>
                <div class="summary-grid">
                    <div class="summary-item">
                        <span>Available Products:</span>
                        <span id="availableProducts">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Products Sold:</span>
                        <span id="displayProductsSold">0</span>
                    </div>
                    <div class="summary-item">
                        <span>Remaining Products:</span>
                        <span id="remainingProducts">0</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Customer Management Section -->
        <section class="customer-section">
            <h2>Customer Management</h2>
            
            <!-- Add Customer Form -->
            <div class="add-customer-form">
                <h3>Add New Customer</h3>
                <form id="customerForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerName">Customer Name *</label>
                            <input type="text" id="customerName" required placeholder="Enter customer name">
                        </div>
                        <div class="form-group">
                            <label for="customerPhone">Phone Number *</label>
                            <input type="tel" id="customerPhone" required placeholder="Enter phone number">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerAddress">Address *</label>
                            <input type="text" id="customerAddress" required placeholder="Enter address">
                        </div>
                        <div class="form-group">
                            <label for="customerEmail">Email (Optional)</label>
                            <input type="email" id="customerEmail" placeholder="Enter email address">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerCategory">Category *</label>
                            <select id="customerCategory" required>
                                <option value="">Select Category</option>
                                <option value="Regular">Regular</option>
                                <option value="VIP">VIP</option>
                                <option value="Premium">Premium</option>
                                <option value="Wholesale">Wholesale</option>
                                <option value="Corporate">Corporate</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="customerNotes">Notes (Optional)</label>
                            <textarea id="customerNotes" placeholder="Add customer notes" rows="3"></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-success">Add Customer</button>
                </form>
            </div>

            <!-- Search Section -->
            <div class="search-section">
                <h3>Search Customers</h3>
                <div class="search-forms">
                    <div class="search-form">
                        <label for="searchByName">Search by Name:</label>
                        <div class="search-input-group">
                            <input type="text" id="searchByName" placeholder="Enter customer name">
                            <button type="button" id="searchNameBtn" class="btn btn-search">Search</button>
                        </div>
                    </div>
                    <div class="search-form">
                        <label for="searchByPhone">Search by Phone:</label>
                        <div class="search-input-group">
                            <input type="tel" id="searchByPhone" placeholder="Enter phone number">
                            <button type="button" id="searchPhoneBtn" class="btn btn-search">Search</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Results -->
            <div id="searchResults" class="search-results" style="display: none;">
                <h3>Search Results</h3>
                <div id="searchResultsContent"></div>
            </div>

            <!-- Customers Table -->
            <div class="customers-table">
                <h3>All Customers</h3>
                <div class="table-container">
                    <table id="customersTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Address</th>
                                <th>Email</th>
                                <th>Category</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="customersTableBody">
                            <!-- Customer rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Advanced Features Section -->
        <section class="advanced-features">
            <h2>Advanced Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>üìä Reports & Analytics</h3>
                    <p>Generate detailed reports and view analytics</p>
                    <button class="btn btn-primary" onclick="openReportsPage()">View Reports</button>
                </div>
                <div class="feature-card">
                    <h3>üìÅ Data Management</h3>
                    <p>Export, import, and backup your data</p>
                    <div class="feature-buttons">
                        <button class="btn btn-success" onclick="exportData()">Export Data</button>
                        <button class="btn btn-info" onclick="document.getElementById('importFile').click()">Import Data</button>
                        <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">
                    </div>
                </div>
                <div class="feature-card">
                    <h3>‚öôÔ∏è Settings & Configuration</h3>
                    <p>Customize system settings and preferences</p>
                    <button class="btn btn-secondary" onclick="openSettingsPage()">Open Settings</button>
                </div>
                <div class="feature-card">
                    <h3>üîÑ System Tools</h3>
                    <p>Advanced system utilities and maintenance</p>
                    <div class="feature-buttons">
                        <button class="btn btn-warning" onclick="clearAllData()">Clear All Data</button>
                        <button class="btn btn-info" onclick="generateSampleData()">Generate Sample Data</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Hidden file input for import -->
    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">

    <!-- Edit Customer Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Customer</h2>
            <form id="editCustomerForm">
                <input type="hidden" id="editCustomerId">
                <div class="form-group">
                    <label for="editCustomerName">Customer Name:</label>
                    <input type="text" id="editCustomerName" required>
                </div>
                <div class="form-group">
                    <label for="editCustomerPhone">Phone Number:</label>
                    <input type="tel" id="editCustomerPhone" required>
                </div>
                <div class="form-group">
                    <label for="editCustomerAddress">Address:</label>
                    <input type="text" id="editCustomerAddress" required>
                </div>
                <div class="form-group">
                    <label for="editCustomerEmail">Email:</label>
                    <input type="email" id="editCustomerEmail">
                </div>
                <div class="form-group">
                    <label for="editCustomerCategory">Category:</label>
                    <select id="editCustomerCategory" required>
                        <option value="Regular">Regular</option>
                        <option value="VIP">VIP</option>
                        <option value="Premium">Premium</option>
                        <option value="Wholesale">Wholesale</option>
                        <option value="Corporate">Corporate</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editCustomerNotes">Notes:</label>
                    <textarea id="editCustomerNotes" rows="3"></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="submit" class="btn btn-success">Save Changes</button>
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Confirm Delete</h2>
            <p>Are you sure you want to delete this customer? This action cannot be undone.</p>
            <div class="modal-buttons">
                <button type="button" id="confirmDeleteBtn" class="btn btn-danger">Delete</button>
                <button type="button" class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
    
    <!-- Navigation Footer -->
    <footer class="navigation-footer">
        <div class="nav-links">
            <a href="index.html" class="nav-link active">üè† Main CRM</a>
            <a href="reports.html" class="nav-link">üìä Reports</a>
            <a href="settings.html" class="nav-link">‚öôÔ∏è Settings</a>
        </div>
    </footer>
</body>
</html>
